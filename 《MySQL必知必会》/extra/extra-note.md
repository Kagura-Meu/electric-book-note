## MySQL中的正则表达式

#### 1.匹配单个字符串

```sql
select * from table_a where column_a regexp '1000'
```

#### 2.使用OR进行匹配

```sql
select * from table_a where column_a regexp '1000|2000'
```

#### 3.匹配几个字符之一

```sql
select * from table_a where column_a regexp '[123]000'
```

#### 4.匹配范围

```sql
select * from table_a where column_a regexp '[1-3]000'
#英文字母如[a-z]
```

#### 5.匹配特殊字符

'.'在正则表达式中代表匹配任意字符，如果想直接匹配'.'需要添加\\\

```sql
select * from table_a where column_a regexp '\\.'
```

当需要使用'. | [ ]'这类符号的字符本身时，都需添加'\\\\'

'\\\\'还可以用来引用有特殊含义的元字符，如：

| 元字符 |   说明   |
| :----: | :------: |
|  \\\f  |   换页   |
|  \\\n  |   换行   |
|  \\\r  |   回车   |
|  \\\t  |   制表   |
| \\\\v  | 纵向制表 |

tips：当使用这些字符的时候，应当使用'\\\\\\'，如'\\\\\\f'。因为原本的元字符格式为'\\f'，正则表达式匹配反斜杠(\\)需要一次转义(\\)，mysql语句匹配时也需要一次转义(\\)，所以最终会得到'\\\\\\f'

#### 6.匹配字符类

为了方便使用，mysql有一些系列已经预定义的正则字符集

|     类     |                           说明                           |
| :--------: | :------------------------------------------------------: |
| [:alnum:]  |            任意字母和数字（ 同[a-zA-Z0-9] ）             |
| [:alpha:]  |                 任意字符（ 同[a-zA-Z] ）                 |
| [:blank:]  |                 空格和制表（ 同[\\\t] ）                 |
| [:cntrl:]  |            ASCII控制字符（ ASCII0到31和127 ）            |
| [:digit:]  |                  任意数字（ 同[0-9] ）                   |
| [:print:]  |                      任意可打印字符                      |
| [:graph:]  |              与[:print:]相同，但不包括空格               |
| [:lower:]  |                任意小写字母（ 同[a-z] ）                 |
| [:upper:]  |                任意大写字母（ 同[A-Z] ）                 |
| [:space:]  | 包括空格在内的任何空白字符（ 同[\\\f\\\n\\\r\\\t\\\v] ） |
| [:punct:]  |        既不在[:alnum:]又不在[:cntrl:]中的任意字符        |
| [:xdigit:] |           任意十六进制数字（ 同[a-fA-F0-9] ）            |

#### 7.匹配多个实例

正则表达式的重复元字符

| 元字符 |              说明              |
| :----: | :----------------------------: |
|   *    |        0个或者多个匹配         |
|   +    |  一个或多个匹配（ 等于{1,} ）  |
|   ?    | 0个或1一个匹配（ 等于{0,1} ）  |
|  {n}   |         指定数目的匹配         |
|  {n,}  |      不少于指定数目的匹配      |
| {n,m}  | 匹配数目的范围（ m不超过255 ） |

#### 8.定位符

| 元字符  |    说明    |
| :-----: | :--------: |
|    ^    | 文本的开始 |
|    %    | 文本的结尾 |
| [[:<:]] |  词的开始  |
| [[:>:]] |  词的结尾  |

tips：^在集合([ ])中时，表示否定；不在集合中则是定位符，表示文本的开始